{{template "base" .}}

{{define "main"}}
<!-- Contact Hero -->
<section class="relative py-24 md:py-36 px-6 md:px-12 lg:px-16 bg-[#0d0d0d] overflow-hidden">
    <div class="max-w-3xl mx-auto text-center relative z-10">
        <h1 class="font-display text-5xl md:text-6xl lg:text-7xl font-black uppercase tracking-tight mb-6 relative inline-block after:absolute after:bottom-[-10px] after:left-1/2 after:-translate-x-1/2 after:w-24 after:h-1.5 after:bg-[#00ff88]">
            Let's Talk
        </h1>
        <p class="text-lg md:text-xl text-[#888] mb-12 leading-relaxed">
            Got a project or idea? Drop a message and let's make it happen together.
        </p>
    </div>

    <!-- Decorative shapes -->
    <div class="absolute top-0 left-0 w-64 h-64 bg-[#00ff88]/10 rounded-full blur-3xl animate-pulse-slow"></div>
    <div class="absolute bottom-0 right-0 w-96 h-96 bg-[#4d9fff]/10 rounded-full blur-3xl animate-pulse-slow"></div>

    <!-- Animated Scroll Arrow -->
    <div class="absolute bottom-8 left-1/2 -translate-x-1/2">
        <a href="#contact-form" class="flex flex-col items-center gap-2 animate-bounce">
            <span class="block w-3 h-3 border-b-2 border-r-2 border-[#00ff88] rotate-45 mb-1"></span>
            <span class="block w-3 h-3 border-b-2 border-r-2 border-[#00ff88] rotate-45"></span>
        </a>
    </div>
</section>


<!-- Centered Contact Form -->
<section class="relative py-20 md:py-32 px-6 md:px-12 lg:px-16 bg-[#1a1a1a]">
    <div class="max-w-xl mx-auto">
        <div class="bg-[#0d0d0d] p-10 md:p-12 rounded-3xl shadow-lg">
            <h2 class="font-display text-3xl md:text-4xl font-black uppercase tracking-tight mb-8 text-center">
                Send a Message
            </h2>
            <form 
                hx-post="/contact" 
                hx-target="#form-response" 
                hx-swap="innerHTML"
                class="space-y-6 md:space-y-8"
            >
                <div>
                    <label class="block font-mono text-xs md:text-sm uppercase tracking-wider mb-2 text-[#00ff88] font-semibold">
                        Name
                    </label>
                    <input type="text" name="name" placeholder="John Doe" required
                        class="w-full px-5 py-4 bg-[#1a1a1a] border-2 border-[#2d2d2d] rounded-lg text-white focus:outline-none focus:border-[#00ff88] transition-all">
                </div>

                <div>
                    <label class="block font-mono text-xs md:text-sm uppercase tracking-wider mb-2 text-[#00ff88] font-semibold">
                        Email
                    </label>
                    <input type="email" name="email" placeholder="john@example.com" required
                        class="w-full px-5 py-4 bg-[#1a1a1a] border-2 border-[#2d2d2d] rounded-lg text-white focus:outline-none focus:border-[#00ff88] transition-all">
                </div>

                <div>
                    <label class="block font-mono text-xs md:text-sm uppercase tracking-wider mb-2 text-[#00ff88] font-semibold">
                        Message
                    </label>
                    <textarea name="message" rows="6" placeholder="Your message..." required
                        class="w-full px-5 py-4 bg-[#1a1a1a] border-2 border-[#2d2d2d] rounded-lg text-white focus:outline-none focus:border-[#00ff88] transition-all resize-none"></textarea>
                </div>

                <button type="submit"
                    class="w-full md:w-auto px-12 py-4 bg-gradient-to-r from-[#00ff88] to-[#4d9fff] text-[#0d0d0d] font-mono font-bold uppercase rounded-lg tracking-wider transition-all hover:-translate-y-1 hover:shadow-[6px_6px_0_white]">
                    Send Message
                </button>
            </form>
            <div id="form-response" class="mt-6 md:mt-8 text-center"></div>
        </div>
    </div>
</section>

<script>
document.body.addEventListener('htmx:afterSwap', function(event) {
    if(event.detail.target.id === 'form-response'){
        const response = event.detail.xhr;
        const responseDiv = document.getElementById('form-response');

        if(response.status === 200){
            responseDiv.innerHTML = `
                <div class="bg-[#00ff88] p-5 text-[#0d0d0d] rounded">
                    <h3 class="font-display text-lg font-bold uppercase mb-2">Message Sent!</h3>
                    <p class="text-sm">Thanks for reaching out. I'll get back to you within 24-48 hours.</p>
                </div>`;
            event.detail.target.closest('form').reset();
        } else {
            responseDiv.innerHTML = `
                <div class="bg-[#ff4d4d] p-5 text-white rounded">
                    <h3 class="font-display text-lg font-bold uppercase mb-2">Error</h3>
                    <p class="text-sm">Something went wrong. Please try again or email me directly.</p>
                </div>`;
        }
    }
});
</script>
{{end}}
